<!DOCTYPE html>
<html lang="en">

<head>

    <!-- <style>
        header{
            background: url(../static/assets/img/bg.png);
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
        }
    </style> -->

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Requests</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">


    <!-- Favicon-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="icon" type="image/x-icon" href=" {{ url_for('static', filename='assets/favicon.ico')}}" />
    <!-- Font Awesome icons (free version)-->
    <script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>
    <!-- Google fonts-->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet"
        type="text/css" />
    <!-- Core theme CSS (includes Bootstrap)-->
    <!-- <link href="{{ url_for('static', filename='css/styles.css')}}" rel="stylesheet" /> -->

    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap-datepicker3.min.css')}}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css')}}">

</head>

<body id="page-top">

    <h2 id="main-text">Таблица с запросами пользователей</h2>  

    


    <div class="container">
        <div class="row">
          <div class="col-sm" style="text-align: center;">


            <div style="align-items: center;" id="btn-container">
                <form action="request/make_file" method="post">
                    <button type="submit" class="btn btn-primary"
                     style="align-items: center;" value="true" name="download_all">Скачать все запросы</button>
                </form>
        
            </div>
            
          </div>
          <div class="col-sm" style="text-align: center;">

            <p>
                <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#chooseDate" aria-expanded="false" aria-controls="chooseDate">
                    Скачать в диапазоне
                  </button>
            </p>
            
            
            <div class="collapse" id="chooseDate">
                <div class="card-body">
                    <form action="request/make_file_in_range" method="post">
                        <p>Выберите диапазон дат запросов</p>
                        <p>Начальная дата: <input type="date" name="start_date"/> </p>
                        <p>Конечная дата: <input type="date" name="end_date"/> </p>
                        <button type="submit" class="btn btn-light"
                            style="align-items: center;" value="true" name="download_all">Скачать файл</button>
                    </form>
                </div>
            </div>

          </div>
        </div>
    </div>


    

    <div id="table_container">
        <table class="table table-bordered">
            <thead>
              <tr>
                <th scope="col" style="text-align: center;">ID</th>
                <th scope="col" width="15%" style="text-align: center;">Время запроса</th>
                <th scope="col" width="80%" style="text-align: center;">Текст запроса</th>
              </tr>
            </thead>
            <tbody>
                
                {% for i in range(requests_list|length) %}
                <tr>
                    <th scope="row" style="text-align: center;">{{requests_list[i]['id']}}</th>
                    <td style="text-align: center;">{{requests_list[i]['date']}}</td>
                    <td>{{requests_list[i]['text']}}</td>
                </tr>
                {% endfor %}
                
    
            </tbody>
          </table>
    </div>

    

    

<!-- Bootstrap core JS-->
<script src="{{ url_for('static', filename='js/requests.js')}}"> </script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
<!-- Core theme JS-->
<script src="{{ url_for('static', filename='js/scripts.js')}}"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>


    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    
    

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.10.6/moment.min.js"></script>   -->
    
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.37/js/bootstrap-datetimepicker.min.js"></script> -->


    <script src="{{ url_for('static', filename='js/bootstrap-datepicker3.ru.min.css')}}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap-datepicker3.min.css')}}"></script>

<!-- <script src="https://cdn.startbootstrap.com/sb-forms-latest.js"></script> -->
</body>

</html>